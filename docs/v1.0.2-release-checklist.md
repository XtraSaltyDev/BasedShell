# v1.0.2 Release Validation Checklist

Use this checklist to validate release quality before tagging `v1.0.2`.

## Scope

- Product: BasedShell (macOS, unsigned community build path)
- Branch target: `main`
- Validation owner: maintainers
- Candidate app version: `1.0.2`
- Candidate commit: `ec146ca` (update if newer candidate is tested)

## Automated Checks (Completed)

Run date: 2026-02-19

1. `npm run build`  
Status: PASS
2. `node --test test/*.cjs`  
Status: PASS (9 passed, 0 failed)

## Release Validation Runbook (Execute in Order)

1. Sync and verify candidate:
- `git checkout main`
- `git pull origin main`
- `git rev-parse --short HEAD` must equal `ec146ca` (or update this checklist to current candidate).

2. Local quality gate:
- `npm run typecheck`
- `npm run build`
- `node --test test/*.cjs`

3. Build packaged app from this candidate:
- Run the packaging/release workflow used for unsigned macOS build.
- Install resulting DMG to `/Applications`.

4. Execute manual validation in this order:
- Section `1. Install and first launch`
- Section `2. Core session behavior`
- Section `3. Split panes`
- Section `4. Settings and themes`
- Section `5. Keyboard shortcuts`
- Section `6. Update flow (unsigned)` (must verify both command palette and Help menu path)
- Section `7. Window and interaction polish`

5. Update defect log and gate:
- Close `DEF-001` only after single unsupported-update guidance toast is confirmed in packaged app.
- Close `DEF-002` only after release downloads page opens from:
  - command palette action `Open Latest Release Downloads`
  - app menu `Help -> Open Latest Release Downloads`
- Do not tag `v1.0.2` until all `[M]` items are `[PASS]` and high-severity defects are closed.

## Fast Remaining 5-Check Script (Packaged App)

Run these steps exactly on the installed packaged app and record PASS/FAIL under each matching section below.

1. Split focus hotkeys:
- Open one tab, split vertically (`Cmd/Ctrl+Alt+D`), then split horizontally (`Cmd/Ctrl+Alt+Shift+D`).
- Press each focus hotkey:
  - `Cmd/Ctrl+Alt+Left`
  - `Cmd/Ctrl+Alt+Right`
  - `Cmd/Ctrl+Alt+Up`
  - `Cmd/Ctrl+Alt+Down`
- Expected:
  - Active pane changes every time a valid neighbor exists.
  - Visible active-pane focus indicator updates correctly.
- Mark:
  - `3. Split panes -> Focus panes with Cmd/Ctrl+Alt+Arrow`

2. Split resize (keyboard + drag):
- With a split active, press:
  - `Cmd/Ctrl+Alt+Shift+Left`
  - `Cmd/Ctrl+Alt+Shift+Right`
  - `Cmd/Ctrl+Alt+Shift+Up`
  - `Cmd/Ctrl+Alt+Shift+Down`
- Drag both vertical and horizontal dividers with mouse.
- Expected:
  - Pane sizes visibly change in the requested direction.
  - Ratios clamp (no pane collapses below minimum).
- Mark:
  - `3. Split panes -> Resize panes with drag and Cmd/Ctrl+Alt+Shift+Arrow`

3. Split depth limit toast:
- Starting from a single pane tab, create splits until depth limit is reached, then attempt one additional split.
- Expected:
  - No third-level split is created.
  - Toast appears: `Maximum split depth reached`.
- Mark:
  - `3. Split panes -> Depth limit enforcement toast appears at max depth`

4. Unsupported update guidance (single toast):
- Trigger `Check for Updates` in an unsigned packaged build.
- Expected:
  - One guidance message only (no duplicate/stacked unsupported update toast).
- Mark:
  - `6. Update flow (unsigned) -> Unsupported auto-update state shows manual update guidance (single message only)`
  - `DEF-001` status to `Closed` if PASS

5. Release downloads open (both entry points):
- Command palette path:
  - `Cmd/Ctrl+K` -> run `Open Latest Release Downloads`
- Menu path:
  - `Help -> Open Latest Release Downloads`
- Expected:
  - Both actions open `https://github.com/XtraSaltyDev/BasedShell/releases` in default browser.
- Mark:
  - `6. Update flow (unsigned) -> Open Latest Release Downloads opens GitHub releases page`
  - `DEF-002` status to `Closed` if PASS

## Manual Checks (Run on packaged app)

Status legend: `[PASS]`, `[FAIL]`, `[PENDING]`, `[N/A]`, `[PASS-WORKAROUND]`  
Mandatory item marker: `[M]`

Mark each item with a status and add evidence notes.

1. Install and first launch
- [M][PASS] Install from latest DMG into `/Applications`.
- [M][PASS-WORKAROUND] Launch via right-click `Open` (may fail for unsigned build; workaround validated).
- [M][PASS] If blocked, run:
  - `sudo xattr -dr com.apple.quarantine /Applications/BasedShell.app`
  - `open /Applications/BasedShell.app`
- [M][PASS] Confirm app opens and remains stable.
Notes:

2. Core session behavior
- [M][PASS] Startup opens clean prompt at `~` (no broken init output).
- [M][PASS] New tab creates a session successfully.
- [M][PASS] Exiting one tab shell does not affect other tabs.
Notes:

3. Split panes
- [M][PASS] Vertical split works.
- [M][PASS] Horizontal split works.
- [M][PENDING] Focus panes with `Cmd/Ctrl+Alt+Arrow`.
- [M][PENDING] Resize panes with drag and `Cmd/Ctrl+Alt+Shift+Arrow`.
- [M][PENDING] Depth limit enforcement toast appears at max depth.
Notes:

4. Settings and themes
- [M][PASS] Settings drawer opens and saves reliably.
- [N/A] Standalone settings window checks (removed in favor of drawer).
- [M][PASS] All Catppuccin flavors visible and selectable:
  - [PASS] Latte
  - [PASS] Frappe
  - [PASS] Macchiato
  - [PASS] Mocha
- [M][PASS] Toast text remains readable in light themes.
Notes:

5. Keyboard shortcuts
- [M][PASS] `Cmd/Ctrl+K` toggles command palette.
- [M][PASS] `Cmd/Ctrl+Shift+K` clears terminal.
- [PASS] `Cmd/Ctrl+F` opens search.
- [PASS] `Cmd/Ctrl+,` opens settings.
Notes:

6. Update flow (unsigned)
- [M][PASS] `Check for Updates` does not crash.
- [M][PENDING] Unsupported auto-update state shows manual update guidance (single message only).
- [M][PENDING] `Open Latest Release Downloads` opens GitHub releases page.
Notes:

7. Window and interaction polish
- [M][PASS] Window drag works without needing focus reset.
- [M][PASS] No double borders or pane fill gaps after split/resize.
- [M][PASS] Status HUD reflects active pane context.
Notes:

## Defect Log (for v1.0.2 gating)

| ID | Severity | Area | Repro | Expected | Actual | Status |
|---|---|---|---|---|---|---|
| DEF-001 | High | Update flow (unsigned) | Run `Check for Updates` in unsigned packaged build | Single clear guidance message to use manual download | Duplicate/stacked guidance messaging observed | Fixed in code; pending packaged validation |
| DEF-002 | High | Update flow (unsigned) | Run `Open Latest Release Downloads` command palette action | GitHub releases page opens successfully | Action fails to open releases page | Fixed in code; pending packaged validation |
| | | | | | | |
| | | | | | | |

## Release Gate

Do not tag `v1.0.2` until all critical/high severity defects are closed and all mandatory checklist items pass.
